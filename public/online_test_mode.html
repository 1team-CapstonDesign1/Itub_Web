<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Mode</title>
    <link rel="stylesheet" href="./css/online_style.css">
</head>

<body>
    <div class='all-wrap'>
        <div class='row-wrap'>
            <div class='wrap'>
                <p><b>나이</b></p>
                <div id='name' class='box'></div>
            </div>

            <div class='wrap'>
                <p><b>성별</b></p>
                <div id='gender' class='box'></div>
            </div>
        </div>
        <div class='row-wrap'>
            <div class='wrap'>
                <p><b>직업</b></p>
                <div id='job' class='box'></div>
            </div>

            <div class='wrap'>
                <p><b>온도</b></p>
                <div id='temp' class='box'></div>
            </div>
        </div>

        <div class="t">
            <div class="t1">
            </div>
            <div class="t2">
                <div class="t3">
                    <img src="./images/1.jpg" width="100%" height="100%">
                </div>
                <div class="t4">
                    <div class="t5" style="background-color: aquamarine">
                    </div>
                    <div class="t5" style="background-color: blue">
                    </div>
                    <div class="t5" >
                    </div>
                </div>
            </div>
        </div>
        
        
        <table>
            <tr>
                <td colspan="2">1</td>
            </tr>
            <tr>
                <td rowspan="3">
                    <img src="./images/1.jpg" height="100%" width="100%">
                </td>
                <td>3</td>
            </tr>
            <tr>
                <td>4</td>
            </tr>
            <tr>
                <td>5</td>
            </tr>
        </table>
        
    </div>
    <script type="text/javascript" src="./js/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript" src="./js/debouncedresize.js"></script>
    <script type="text/javascript" src="./js/throttledresize.js"></script>

    <script>
        google.charts.load('current', {
            'packages': ['corechart']
        });
        google.charts.setOnLoadCallback(drawVisualization);

        var table_data1 = [
            ['Month', 'Bolivia', 'Ecuador', 'Madagascar', 'Papua New Guinea', 'Rwanda', 'Average'],
            ['2004/05', 165, 938, 522, 998, 450, 614.6],
            ['2005/06', 135, 1120, 599, 1268, 288, 682],
            ['2006/07', 157, 1167, 587, 807, 397, 623],
            ['2007/08', 139, 1110, 615, 968, 215, 609.4],
            ['2008/09', 136, 691, 629, 1026, 366, 569.6]
        ]

        var table_option1 = {
            title: '직업',
            vAxis: {
                title: 'Cups'
            },
            hAxis: {
                title: 'Month'
            },
            seriesType: 'bars',
            series: {
                5: {
                    type: 'line'
                }
            }
        };

        var div_id = 'name'

        var table_option2 = {
            title: 'test',
            vAxis: {
                title: 's_temp'
            },
            hAxis: {
                title: 's_gender'
            },
            seriesType: 'line',
        };

        function drawVisualization() {
            // Some raw data (not necessarily accurate)

            var data = google.visualization.arrayToDataTable(table_data1);
            var options = table_option1

            var chart = new google.visualization.ComboChart(document.getElementById(div_id));
            chart.draw(data, options);

            $.get("shower.csv", function(csvString) {
                var arrayData = $.csv.toArrays(csvString, {
                    onParseValue: $.csv.hooks.castToScalar
                })
                console.log(arrayData)
                var chart = new google.visualization.ComboChart(document.getElementById('gender'));
                chart.draw(google.visualization.arrayToDataTable(arrayData), table_option2);
            });

            var chart = new google.visualization.ComboChart(document.getElementById('job'));
            chart.draw(data, options);

            var chart = new google.visualization.ComboChart(document.getElementById('temp'));
            chart.draw(data, options);
        }

        $(function() {
            $(window).bind("debouncedresize", function() {
                drawVisualization();
            });
        });
    </script>
</body>

</html>